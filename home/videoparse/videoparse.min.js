const apiNames=["Playm3u8解析","PlayerJY解析","m1907解析","咸鱼云解析","虾米解析","夜幕解析","8090g解析"],encodedApis=["aHR0cHM6Ly93d3cucGxheW0zdTguY24vamlleGkucGhwP3VybD0=","aHR0cHM6Ly9qeC5haWRvdWVyLm5ldC8/dXJsPQ==","aHR0cHM6Ly96MS5tMTkwNy5jbi8/ang9","aHR0cHM6Ly9qeC54eW1wNC5jYy8/dXJsPQ==","aHR0cHM6Ly9qeC54bWZsdi5jb20vP3VybD0=","aHR0cHM6Ly93d3cueWVtdS54eXovP3VybD0=","aHR0cHM6Ly9qeC44MDkwZy5jb20vP3VybD0="];function populateApis(){const e=document.getElementById("api");e.innerHTML="";for(let t=0;t<encodedApis.length;t++)try{const n=atob(encodedApis[t]),a=document.createElement("option");a.value=n,a.textContent=apiNames[t]||n,e.appendChild(a)}catch(o){console.warn("api decode failed for index",t,o)}}function play(){const e=document.getElementById("url"),t=document.getElementById("api"),n=document.getElementById("player"),a=document.getElementById("loading");let o=e.value.trim();if(!o)return alert("请输入视频页面或视频链接"),void e.focus();const c=t.value||(t.options[0]?.value);if(!c)return void alert("未找到可用解析接口");const i=c+encodeURIComponent(o);a.classList.add("active"),n.src=i,n.onload=function(){setTimeout(()=>a.classList.remove("active"),400)};const l=setTimeout(()=>{a.classList.remove("active"),console.info("iframe load timeout — 若页面没有显示，请尝试在新窗口打开：",i)},12e3);n.addEventListener("load",()=>clearTimeout(l),{once:!0})}document.addEventListener("DOMContentLoaded",()=>{populateApis();const e=document.getElementById("url"),t=document.getElementById("playBtn");t.addEventListener("click",play),e.addEventListener("keydown",t=>{"Enter"===t.key&&play()}),e.focus()});
